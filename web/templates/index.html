<!DOCTYPE html>
<html lang="pl" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Liczb Pierwszych - Web App</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Socket.IO -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>

<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle">
        <span id="themeIcon">üåô</span>
        <span id="themeText">Dark Mode</span>
    </button>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-title">
                <span class="header-icon">üî¢</span>
                <h1>Generator Liczb Pierwszych</h1>
            </div>
            <p class="header-subtitle">
                Profesjonalne narzƒôdzie do generowania, analizy i wizualizacji liczb pierwszych
            </p>
        </header>

        <!-- Stats Cards -->
        <div class="stats-container" id="statsContainer">
            <div class="stat-card">
                <div class="stat-label">Cache Status</div>
                <div class="stat-value" id="cacheStatus">Loading...</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Liczb Pierwszych</div>
                <div class="stat-value" id="primesCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Maksymalna Warto≈õƒá</div>
                <div class="stat-value" id="maxValue">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Rozmiar Cache</div>
                <div class="stat-value" id="cacheSize">0 MB</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="tabs-container">
            <!-- Tabs Navigation -->
            <div class="tabs">
                <button class="tab active" data-tab="cache">üóÑÔ∏è Generuj Cache</button>
                <button class="tab" data-tab="spiral">üåÄ Spirala Ulama</button>
                <button class="tab" data-tab="density">üìä Wykres Gƒôsto≈õci</button>
                <button class="tab" data-tab="export">üíæ Eksport CSV</button>
                <button class="tab" data-tab="verify">‚úÖ Weryfikacja</button>
            </div>

            <!-- Tab Content: Generate Cache -->
            <div class="tab-content active" id="cache-content">
                <h2>Generuj Cache Liczb Pierwszych</h2>
                <p>Wygeneruj cache liczb pierwszych do okre≈õlonego limitu z optymalizacjƒÖ wydajno≈õci.</p>

                <div class="form-group">
                    <label class="form-label" for="cacheLimit">Limit (maksymalna liczba do sprawdzenia)</label>
                    <input type="number" id="cacheLimit" class="form-input" value="1000000" min="100" step="1000">
                    <p style="font-size: 0.875rem; color: var(--text-tertiary); margin-top: 0.5rem;">
                        Zalecane warto≈õci: 1,000,000 (szybko), 10,000,000 (≈õrednio), 100,000,000 (wolno)
                    </p>
                </div>

                <button class="btn btn-primary" id="generateCacheBtn">
                    <span>üöÄ</span>
                    <span>Generuj Cache</span>
                </button>

                <!-- Progress Bar -->
                <div class="progress-container" id="cacheProgress">
                    <div class="progress-label">
                        <span id="progressMessage">Postƒôp...</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Alert -->
                <div class="alert alert-success" id="cacheAlert">
                    <span>‚úì</span>
                    <span id="cacheAlertMessage">Cache wygenerowany pomy≈õlnie!</span>
                </div>
            </div>

            <!-- Tab Content: Ulam Spiral -->
            <div class="tab-content" id="spiral-content">
                <h2>Spirala Ulama</h2>
                <p>Wygeneruj spiralƒô Ulama z wizualizacjƒÖ liczb pierwszych w uk≈Çadzie spiralnym.</p>

                <div class="form-group">
                    <label class="form-label" for="spiralSize">Rozmiar spirali (n)</label>
                    <input type="number" id="spiralSize" class="form-input" value="1000" min="100" max="100000000"
                        step="100">
                </div>

                <div class="form-group">
                    <label class="form-label" for="spiralFormat">Format wyj≈õciowy</label>
                    <select id="spiralFormat" class="form-select">
                        <option value="png">PNG (raster)</option>
                        <option value="svg">SVG (wektor)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-checkbox">
                        <input type="checkbox" id="spiralColorful">
                        <span>Wersja kolorowa</span>
                    </label>
                </div>

                <button class="btn btn-primary" id="generateSpiralBtn">
                    <span>üåÄ</span>
                    <span>Generuj Spiralƒô</span>
                </button>

                <!-- Preview -->
                <div class="preview-container" id="spiralPreview">
                    <h3>PodglƒÖd</h3>
                    <div id="spiralImageContainer"></div>
                    <button class="btn btn-secondary mt-lg" id="downloadSpiralBtn">
                        <span>‚¨áÔ∏è</span>
                        <span>Pobierz Obraz</span>
                    </button>
                </div>

                <div class="alert alert-info" id="spiralAlert">
                    <span>üé®</span>
                    <span id="spiralAlertMessage"></span>
                </div>
            </div>

            <!-- Tab Content: Density Chart -->
            <div class="tab-content" id="density-content">
                <h2>Wykres Gƒôsto≈õci Liczb Pierwszych</h2>
                <p>Analizuj i wizualizuj gƒôsto≈õƒá liczb pierwszych w przedzia≈Çach z por√≥wnaniem z teoriƒÖ.</p>

                <div class="form-group">
                    <label class="form-label" for="densityInterval">Rozmiar przedzia≈Çu</label>
                    <input type="number" id="densityInterval" class="form-input" value="100000000" min="1000"
                        step="1000">
                </div>

                <div class="form-group">
                    <label class="form-label" for="densityMaxRange">Maksymalny zakres (opcjonalnie, u≈ºyje cache je≈õli
                        puste)</label>
                    <input type="number" id="densityMaxRange" class="form-input" placeholder="Auto - u≈ºyje max z cache">
                </div>

                <button class="btn btn-primary" id="generateDensityBtn">
                    <span>üìä</span>
                    <span>Generuj Wykres</span>
                </button>

                <!-- Preview -->
                <div class="preview-container" id="densityPreview">
                    <h3>Wykres Gƒôsto≈õci</h3>
                    <img id="densityImage" class="preview-image" alt="Wykres gƒôsto≈õci">
                </div>

                <div class="alert alert-info" id="densityAlert">
                    <span>üìà</span>
                    <span id="densityAlertMessage"></span>
                </div>
            </div>

            <!-- Tab Content: Export CSV -->
            <div class="tab-content" id="export-content">
                <h2>Eksport do CSV</h2>
                <p>Eksportuj cache liczb pierwszych do plik√≥w CSV w r√≥≈ºnych formatach.</p>

                <div class="form-group">
                    <label class="form-label" for="exportFormat">Format eksportu</label>
                    <select id="exportFormat" class="form-select">
                        <option value="basic">Podstawowy (tylko liczby pierwsze)</option>
                        <option value="advanced">Zaawansowany (z metadanymi)</option>
                        <option value="chunks">Chunki (wiele plik√≥w)</option>
                    </select>
                </div>

                <div class="form-group" id="chunkSizeGroup" style="display: none;">
                    <label class="form-label" for="chunkSize">Rozmiar chunka</label>
                    <input type="number" id="chunkSize" class="form-input" value="1000000" min="100000" step="100000">
                </div>

                <button class="btn btn-primary" id="exportCsvBtn">
                    <span>üíæ</span>
                    <span>Eksportuj CSV</span>
                </button>

                <div class="alert alert-success" id="exportAlert">
                    <span>‚úì</span>
                    <span id="exportAlertMessage"></span>
                </div>
            </div>

            <!-- Tab Content: Verify -->
            <div class="tab-content" id="verify-content">
                <h2>Weryfikacja Cache</h2>
                <p>Sprawd≈∫ integralno≈õƒá i poprawno≈õƒá cache liczb pierwszych.</p>

                <button class="btn btn-primary" id="verifyCacheBtn">
                    <span>‚úÖ</span>
                    <span>Weryfikuj Cache</span>
                </button>

                <div class="alert alert-success" id="verifyAlert" style="margin-top: var(--spacing-lg);">
                    <span>‚úì</span>
                    <span id="verifyAlertMessage"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cache-generator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ulam-spiral.js') }}"></script>
    <script src="{{ url_for('static', filename='js/density-chart.js') }}"></script>
    <script src="{{ url_for('static', filename='js/csv-exporter.js') }}"></script>
</body>

</html>